{{- if not .Values.vaultSecrets }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ template "sda.fullname" . }}-orchestrate
type: Opaque
data:
  mqPassword: {{ include "mqPass" . | b64enc }}
{{- end }}
{{- if not .Values.pkiService }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ template "sda.fullname" . }}-orchestrate-certs
data:
{{ ( .Files.Glob "files/ca.crt" ).AsSecrets | trim | indent 2 }}
{{ ( .Files.Glob "files/orch.crt" ).AsSecrets | trim | indent 2 }}
{{ ( .Files.Glob "files/orch.key" ).AsSecrets | trim | indent 2 }}
{{- end }}
